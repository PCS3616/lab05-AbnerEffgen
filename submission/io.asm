@ START
START   GD  ENTRADA
    SB AUX_TEMP
    MM X_REG
    GD ENTRADA
    GD ENTRADA
    SB AUX_TEMP
    MM Y_REG
    AD X_REG
    MM SOMA_INI
    MM DEPURA1
    ML DESLOC
    MM DEPURA2
    SB LIMITE
    MM DEPURA3
    JN NEGATIVO
    JP POSITIVO

@ /040
POSITIVOS    LD SOMA_INI
    MM AJUSTA1
    SB SUB_FIX
    MM AJUSTA2
    AD SOM_FIX
    MM AJUSTA3
    JP SALTO_FIM

@ /050
NEGATIVO    LD SOMA_INI
    AD AUX_TEMP
    MM AJUSTA_NEG
    PD SAIDA
    MM ESPERA1
    HM PARAR

@ /060
SALTO_FIM   LD SOMA_INI
    AD AUX_TEMP
    MM FINALIZA
    PD SAIDA
    MM ESPERA2
    HM PARAR

@ /500
    ENTRADA K /0000
    SAIDA K /0001
    AUX_TEMP K /3030
    LIMITE K /0A00
    SUB_FIX K /000A
    SOM_FIX K /0100
    DESLOC K /0100
    X_REG K /0000
    Y_REG K /0000
    SOMA_INI K /0000
    DEPURA1 K /0000
    DEPURA2 K /0000
    DEPURA3 K /0000
    AJUSTA1 K /0000
    AJUSTA2 K /0000
    AJUSTA3 K /0000
    AJUSTA_NEG K /0000
    FINALIZA K /0000
    ESPERA1 K /0000
    ESPERA2 K /0000
    PARAR K /0000